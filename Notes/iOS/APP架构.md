### APP架构

#### 为什么Model和View的分类会被认为是基础中的基础？

1.model层是app内容，它不依赖于任何app框架（类似UIKit之类的）。

2.定义一个model层的理由是它为我们的程序提供一个表述事实的单一来源，会让逻辑清晰，行为正确。这样一来我们的程序便不会被应用框架中的实现细节所支配。

3.应用框架为我们提供了构建app所需要的基础设置。（比如UIKit,AppKit,WatchKit）

4.如果model层能做到应用框架分离，那么我们就可以完全在app的范围之外使用它。比如在测试套件中使用它，更或者是在完全不同的应用框架中使用它，例如Android，macOS或者Windows中。

#### APP的本质是反馈回路

![WechatIMG90](/Users/tang/Desktop/WechatIMG90.png)

这种情况就是model层与View层完全分开的情况。用户界面是一个同时负责展示和输入功能的反馈设备，所以会产生上面这一个反馈回路。每个app设计模式所面临的挑战是如何处理这张图表中箭头所包含的交流，依赖和变换。

#### APP设计模式的基础要件

1.**构建**   谁负责构建model和view，以及两者连接起来？

2.**更新model**  如何处理 view action ?

3.**改变View**  如何将model的数据应用到view上去？

4.**view state**  如何处理导航和其他一些model state 以外的状态？

5.**测试**  为了达到一定程度的测试覆盖，要采取怎样的测试策略？

#### MVC

**MVC 基于经典的面向对象原则:**

对象在内部对它们的行为和状态进行管理，并通过类和协议的接口进行通讯;

view 对象通常是自包含且可重用的;

model 对象独立于表现形式之外，且避免依赖程序的其他部分。

而将其他两部分组合起来成为完整的程序，则是 controller 层的责任。

