## HeadFirst 设计模式 阅读摘记

### 1.设计模式入门

本章主要是看一些关键的OO设计原则（即面向对象的设计原则,OO,Object Oriented,面向对象）,并通过一个实例来了解模式是如何运作的。

对代码所做的局部修改，影响层面可能不是局部（例如有继承关系时修改父类，会飞的橡皮鸭）。

####OO设计基础

抽象 封装 多态 继承

#### OO设计原则

**设计原则：找出应用中可能需要变化之处，把它们独立出来，不要和那些不需要变化的代码混在一起。**

**设计原则：针对接口变成，而不是针对实现编程。（针对接口变成真正的意思是针对超类型编程）**

**设计原则：多用组合，少用继承。**

**设计原则：为了交互对象之间的松耦合设计而努力**

**设计原则：类应该对扩展开放，对修改关闭。**

**设计原则：要依赖抽象，不要依赖具体的类。**（依赖倒置原则）

**设计原则：最少知识原则：只和你的密友谈话**

**设计原则：好莱坞原则：别找我，我会找你**

#### OO设计模式

**策略模式：定义了算法族，分别分装起来，让他们之间可以相互替换，此模式让算法的变化独立于使用算法的客户**（鸭子游戏，各种鸭子）

**观察者模式：在对象之间定义一对多的依赖，这样一来，当一个对象改变状态，依赖它的对象都会受到通知，并自动更新。**（气象站与看板）

**装饰者模式：动态的将责任附加到对象上。要扩展功能装饰者提供了比继承更有弹性的替代方案。**（星巴克咖啡）

**简单工厂（不算设计模式）：把所有的事（主要是创建）放在一个类处理**（披萨店不同口味）

**工厂方法模式：定义了一个创建对象的接口，由子类决定实例化哪一个。工厂方法让类实例化推迟到了子类。**（披萨店开不同地区的，不同口味）（用的是继承）

**抽象工厂模式：提供一个接口，用于创建相关或依赖对象的家族，而不需要明确指定具体的类。**（披萨店原料的装配）（用的是组合）

**单件模式：确保一个雷只有一个实例，并提供全局访问点。**（注意多线程，牛奶棒）

**命令模式：将"请求"封装成对象，以便使用不同的请求，队列或者日志来参数化其他对象。命令模式也支持可撤销的操作。**(餐厅，从客户订单到厨师烹饪，其实服务员并不关心菜单（其实就是一个命令）。插线板（也可以理解为开挂器，开关两个操作），其实并不关心是电灯开管，还是电门开关，命令模式的最佳实践有：队列：并不关心执行什么任务，只要执行任务就行，其实就是执行一个命令。日志，命令可以做记录，甚至死机了等可以恢复继续执行命令。)

**适配器模式：将一个类的接口，转换成客户期望的另一个接口。适配器让原本接口不兼容的类可以合作无间。**（火鸡被适配成了鸭子）

**外观模式：提供了一个统一的接口，用来访问子系统中一群接口。外观定义了一个高层接口，让子系统更容易使用。**（家庭影院，很多子设备。）

**模板方法模式：在一个方法中定义一个算法的骨架，而将一些步骤延迟到子类中。模板方法使得子类可以在不改变算法结构的情况下，重新定义算法中的某些步骤**（泡茶与咖啡）