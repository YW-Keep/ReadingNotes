### YYCache源码摘记

YYCache这个库主要是做缓存处理，其实代码量很少。主要有一下几个文件:

#### YYCache

其实YYCahe没有做什么特别的事情。主要是统一了两个缓存，内存缓存与硬盘缓存。

总的来说。就是一句话，先从缓存读，缓存没有从硬盘读，然后存入缓存。删除2个都删除。

#### 内存缓存相关

内存缓存用了一个文件来实现，那就是**YYMemoryCache**其中还包含两个类，是自用类，那就是节点类**_YYLinkedMapNode**以及保存节点的map类**_YYLinkedMap**。

那就有人可能会有疑问为什么会用这两个类其实需求有关：

1.我们需要一种快速的方式去存取我们的类，很显然map是一个很好的方式。

2.我们如果需要做一个缓存的维度维护（比如到一定数量清理缓存，等等）那么我们需要维护一个表，来排列缓存的删除先后顺序，当然这里用了淘汰算法(也就是最近使用的缓存放在前面)因为表的插入删除相对比较频繁。所以用了双向链表（因为要从尾部删除，头部加入）。

YYMemoryCache这个文件中主要就是做了对表的增删改查操作。但是要注意，因为没有做单利所以缓存对象如果释放，那么这个内存缓存理论上也是直接释放的。使用的时候也要注意。





具体代码注释在源文件可以查看。